<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE workflow SYSTEM 'OSWf-3.0.dtd'>

<workflow>
	<initial-actions>
		<action id="50" name="Start Workflow">
			<results>
				<default-result status="Underway" step="1" owner="${actor}" />
			</results>
		</action>
	</initial-actions>

	<global-actions>
		<action id="100" name="Restart Workflow">
			<results>
				<default-result step="1"  exit-status="Restarted" status="Underway" owner="bob" />
			</results>
		</action>
		<action id="101" name="Hose Workflow">
			<results>
        <conditional-result step="-1" owner="evil bob" status="Underway">
          <conditions>
            <condition type='alias' name='hasStatusOf'>
              <!-- check if the current step is underway or not -->
              <arg name="stepId">-1</arg>
              <arg name="status">Underway</arg>
            </condition>
          </conditions>
        </conditional-result>
				<default-result step="-1"  exit-status="Hosed" status="Corrupt" owner="evil bob" />
			</results>
		</action>
	</global-actions>

	<steps>
		<step id="1" name="First Draft">
			<actions>
				<action id="1" name="Finish First Draft">
					<results>
						<default-result status="Underway" step="2" />
					</results>
				</action>

			</actions>
		</step>

		<step id="2" name="Second Draft">
			<actions>
				<action id="2" name="Finish Second Draft">
					<results>
						<default-result status="Finished" step="2" />
					</results>
				</action>
			</actions>
		</step>
	</steps>
</workflow>
