<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE workflow SYSTEM "OSWf-3.0.dtd">

<workflow>

  <!-- test for WF-118 -->

  <initial-actions>
    <action id="1" name="Start Workflow">
      <results>
        <default-result  exit-status="Done" step="2" status="Expecting Suggestion" owner="${actor}"/>
      </results>
    </action>
  </initial-actions>

  <steps>
 
    <step id="2" name="Disagreement">
 
      <actions>
        <action id="3" name="Propose Restaurant">
          <results>
 
            <default-result  exit-status="Restaurant Proposed" step="3" status="Underway">

              <pre-functions>
                <function type="beanshell">
                  <arg name="script">
                    tests.DescriptorQuirksTest test = transientVars.get("test");
                    test.counter++;
                  </arg>
                </function>
              </pre-functions>

              <post-functions>
                <function type="beanshell">
                  <arg name="script">
                    tests.DescriptorQuirksTest test = transientVars.get("test");
                    test.counter++;
                  </arg>
                </function>
              </post-functions>

            </default-result>

          </results>
        </action>
      </actions>
    </step>

    <step id="3" name="Evaluation">
      <actions>
        <action id="4" name="Reject Proposal">
          <results>
            <default-result  exit-status="Proposal Rejected" step="2" status="Expecting Suggestion">
            </default-result>
          </results>
        </action>
      </actions>
    </step>

  </steps>

</workflow>